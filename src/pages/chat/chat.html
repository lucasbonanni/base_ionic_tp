<!--
  Generated template for the ChatPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="header header-ios">

    <ion-navbar>
        <ion-row>
            <ion-navbar >
                    <ion-title>{{displayName}}!!</ion-title>
                    <ion-buttons end>
                            <button ion-button clear icon-right (click)="logout()">
                                    Cerrar Sesi√≥n
                                    <ion-icon name="md-exit"></ion-icon>
                                </button>
                    </ion-buttons>
            </ion-navbar>
        </ion-row>
        <ion-row>
            <ion-title text-center>Sala - {{salaValue}}</ion-title>
        </ion-row>
        <ion-row>
            <ion-segment>
                <ion-segment-button value="puppies" (click)="chageToClass4a()">
                    4A
                </ion-segment-button>
                <ion-segment-button value="kittens" (click)="chageToClass4b()">
                    4B
                </ion-segment-button>
            </ion-segment>
        </ion-row>
    </ion-navbar>
</ion-header>


<ion-content padding #content>
    <ion-list>
        <ion-card *ngFor="let msg of messages | async">
            <ion-item *ngIf="msg.sender != displayName">
                <ion-avatar item-left>
                    <img [src]="msg.profilePhoto">
                </ion-avatar>
                <h2>{{msg.sender}}</h2>

            </ion-item>
            <ion-item *ngIf="msg.sender == displayName">
                <ion-avatar item-right>
                    <img [src]="msg.profilePhoto">
                </ion-avatar>
                <h2 text-right>{{msg.sender}}</h2>
            </ion-item>
            <ion-card-content *ngIf="msg.sender != displayName">

                <p>{{msg.messageText}}</p>
                <!-- <ion-note item-end>{{msg.date | lastSendTime }}</ion-note> -->
            </ion-card-content>
            <ion-card-content *ngIf="msg.sender == displayName">

                <p text-right>{{msg.messageText}}</p>
                <!-- <ion-note item-end>{{msg.date | lastSendTime }}</ion-note> -->
            </ion-card-content>
            <ion-row>
                <ion-col>
                    <ion-note item-end>
                        {{msg.date | lastSendTime }}
                    </ion-note>
                </ion-col>
            </ion-row>
            {{last ? toBottomFunction() : ''}}
            <!-- ion-car -->
        </ion-card>

        <!-- <ion-item-divider></ion-item-divider> -->

        <!-- <ion-item-divider></ion-item-divider> -->
    </ion-list>

    <!-- </ion-card> -->

</ion-content>
<ion-footer>
    <ion-row>
        <ion-col col-8>
            <ion-item>
                <ion-input type="text" [(ngModel)]="newMessage.messageText"></ion-input>

            </ion-item>
        </ion-col>
        <ion-col col-2>
            <button ion-button clear icon-only>
                <ion-icon name="image"></ion-icon>
            </button>
        </ion-col>
        <ion-col col-2>
            <ion-fab right bottom>
                <button ion-fab color="secondary" (click)="pushMessage()">
                    <ion-icon name="play"></ion-icon>
                </button>
            </ion-fab>
        </ion-col>
    </ion-row>


    <!-- <button ion-button icon-only >
    <ion-icon name="return-right"></ion-icon>
  </button> -->

</ion-footer>
